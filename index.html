<html>
<head>
    <meta http-equiv="refresh" content="30">
    <title>P+R Lux</title>
    <script src="justgage/raphael-2.1.4.min.js"></script>
    <script src="justgage/justgage.js"></script>
    <link rel="shortcut icon" href="img/p-r-logo.jpg">
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-color: #E6E6E6;
        }
        .container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        #gauge-container {
            width: 200px;
            height: 160px;
            margin: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .box {
            flex: 1;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
            height: 260px;
            position: relative;
        }
        .box h2 {
            margin-top: 10px;
            color: #333;
        }
        .table-container {
            margin-bottom: 0;
            max-width: 100%;
            overflow-x: auto;

        }
        table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
        }
        th {
            background-color: #e0e0e0;
            color: #333;
            padding: 10px;
            text-align: center;
        }
        td {
            background-color: #fff;
            padding: 8px;
            text-align: center;
            border-top: 1px solid #ddd;
        }
        tr:nth-child(even) td {
            background-color: #f9f9f9;
        }

        /* Toggle switch */
        .switch-wrapper {
            position: absolute;
            top: 10px;
            left: 10px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 70px;
            height: 35px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            border-radius: 30px;
            transition: .4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 29px;
            width: 30px;
            left: 4px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #BF0A30;
        }
        input:checked + .slider:before {
            transform: translateX(32px);
        }
        .labels {
            position: absolute;
            width: 100%;
            top: 30px;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            padding: 0 5px;
            color: #666;
        }

        .header-toggle {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 40px;
        }

        .switch.large-toggle {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .linear-wrap { margin-top: 8px; }
.lg-row { margin: 6px 0; }
.linear-gauge {
  width: 100%;
  height: 18px;
  background: #ccc;
  border-radius: 999px;
  position: relative;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.05);
}
.linear-gauge .fill {
  height: 100%;
  width: 0%;
  transition: width .6s ease;
}
.fill.pmr  { background: #6C8CFF; }   /* PMR = bleu */
.fill.elec { background: #00B894; }   /* Élec = vert */

/* Texte à l’intérieur de la barre */
.linear-gauge .label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 12px;
  font-weight: bold;
  color: #fff;
  text-shadow: 0 0 2px rgba(0,0,0,0.4);
}
    </style>
</head>
<body>
    <div align="center">
        <h1>P+R data - 2025-12-21 14:43:40 (Luxembourg)</h1>
    <div class="table-container">
    <table border="0" cellspacing="0" cellpadding="5">
        <tr>
            <th>P+R</th>
            <th>Max Capacity</th>
            <th>Occupied</th>
            <th>% Occupied</th>
            <th>Max Capacity elec</th>
            <th>Elec occ.</th>
            <th>% Elec occ.</th>
            <th>Max Capacity PMR</th>
            <th>PMR occ.</th>
            <th>% PMR occ.</th>
        </tr>
<tr><td>Belval</td><td>1403</td><td>85</td><td>6%</td><td>54</td><td>4</td><td>7%</td><td>33</td><td>1</td><td>3%</td></tr>
<tr><td>Hippodrom Diekirch</td><td>100</td><td>9</td><td>9%</td><td>0</td><td>0</td><td>0%</td><td>15</td><td>0</td><td>0%</td></tr>
<tr><td>Héienhaff</td><td>481</td><td>56</td><td>12%</td><td>0</td><td>0</td><td>0%</td><td>11</td><td>0</td><td>0%</td></tr>
<tr><td>Kautenbach</td><td>92</td><td>19</td><td>21%</td><td>2</td><td>1</td><td>50%</td><td>5</td><td>0</td><td>0%</td></tr>
<tr><td>Luxembourg Gare</td><td>614</td><td>374</td><td>61%</td><td>18</td><td>8</td><td>44%</td><td>3</td><td>3</td><td>100%</td></tr>
<tr><td>Mersch</td><td>405</td><td>28</td><td>7%</td><td>10</td><td>1</td><td>10%</td><td>11</td><td>0</td><td>0%</td></tr>
<tr><td>Rodange </td><td>1553</td><td>72</td><td>5%</td><td>42</td><td>1</td><td>2%</td><td>20</td><td>0</td><td>0%</td></tr>
<tr><td>Troisvierges</td><td>388</td><td>33</td><td>9%</td><td>6</td><td>0</td><td>0%</td><td>9</td><td>0</td><td>0%</td></tr>
    </table>
</div>
<div class="header-toggle" style="display: flex; align-items: center; justify-content: center; margin-top: 5px; gap: 20px;">
    <h1 style="margin: 15px;">P+R graphics</h1>
    <label class="switch large-toggle">
        <input type="checkbox" id="globalToggle">
        <span class="slider"></span>
        <span class="labels" data-on="%" data-off="#"> </span>
    </label>
</div>

<div class="container">
    <div class="box">
        <h2>Belval</h2>
        <div id="gauge-container">
            <div id="gauge-1" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-1" data-occupied="85" data-percent="6" data-max="1403">
        <script>
            var gauge_1 = new JustGage({
                id: "gauge-1",
                value: 85,
                min: 0,
                max: 1403,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_1.txtValue.attr({ "font-size": "25px" });*/
            gauge_1.txtMin.attr({ "font-size": "18px" });
            gauge_1.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 3%"></div>
          <div class="label">PMR: 1 / 33 (3%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 7%"></div>
          <div class="label">Élec: 4 / 54 (7%)</div>
        </div>
      </div>
    </div>

    </div>
    <div class="box">
        <h2>Héienhaff</h2>
        <div id="gauge-container">
            <div id="gauge-2" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-2" data-occupied="56" data-percent="12" data-max="481">
        <script>
            var gauge_2 = new JustGage({
                id: "gauge-2",
                value: 56,
                min: 0,
                max: 481,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_2.txtValue.attr({ "font-size": "25px" });*/
            gauge_2.txtMin.attr({ "font-size": "18px" });
            gauge_2.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 0%"></div>
          <div class="label">PMR: 0 / 11 (0%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 0%"></div>
          <div class="label">Élec: 0 / 0 (0%)</div>
        </div>
      </div>
    </div>

    </div>
    <div class="box">
        <h2>Luxembourg Gare</h2>
        <div id="gauge-container">
            <div id="gauge-3" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-3" data-occupied="374" data-percent="61" data-max="614">
        <script>
            var gauge_3 = new JustGage({
                id: "gauge-3",
                value: 374,
                min: 0,
                max: 614,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_3.txtValue.attr({ "font-size": "25px" });*/
            gauge_3.txtMin.attr({ "font-size": "18px" });
            gauge_3.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 100%"></div>
          <div class="label">PMR: 3 / 3 (100%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 44%"></div>
          <div class="label">Élec: 8 / 18 (44%)</div>
        </div>
      </div>
    </div>

    </div>
    <div class="box">
        <h2>Mersch</h2>
        <div id="gauge-container">
            <div id="gauge-4" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-4" data-occupied="28" data-percent="7" data-max="405">
        <script>
            var gauge_4 = new JustGage({
                id: "gauge-4",
                value: 28,
                min: 0,
                max: 405,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_4.txtValue.attr({ "font-size": "25px" });*/
            gauge_4.txtMin.attr({ "font-size": "18px" });
            gauge_4.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 0%"></div>
          <div class="label">PMR: 0 / 11 (0%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 10%"></div>
          <div class="label">Élec: 1 / 10 (10%)</div>
        </div>
      </div>
    </div>

    </div>
</div><div class="container" style="margin-top: 30px;">
    <div class="box">
        <h2>Rodange </h2>
        <div id="gauge-container">
            <div id="gauge-5" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-5" data-occupied="72" data-percent="5" data-max="1553">
        <script>
            var gauge_5 = new JustGage({
                id: "gauge-5",
                value: 72,
                min: 0,
                max: 1553,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_5.txtValue.attr({ "font-size": "25px" });*/
            gauge_5.txtMin.attr({ "font-size": "18px" });
            gauge_5.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 0%"></div>
          <div class="label">PMR: 0 / 20 (0%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 2%"></div>
          <div class="label">Élec: 1 / 42 (2%)</div>
        </div>
      </div>
    </div>

    </div>
    <div class="box">
        <h2>Troisvierges</h2>
        <div id="gauge-container">
            <div id="gauge-6" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-6" data-occupied="33" data-percent="9" data-max="388">
        <script>
            var gauge_6 = new JustGage({
                id: "gauge-6",
                value: 33,
                min: 0,
                max: 388,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_6.txtValue.attr({ "font-size": "25px" });*/
            gauge_6.txtMin.attr({ "font-size": "18px" });
            gauge_6.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 0%"></div>
          <div class="label">PMR: 0 / 9 (0%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 0%"></div>
          <div class="label">Élec: 0 / 6 (0%)</div>
        </div>
      </div>
    </div>

    </div>
    <div class="box">
        <h2>Kautenbach</h2>
        <div id="gauge-container">
            <div id="gauge-7" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-7" data-occupied="19" data-percent="21" data-max="92">
        <script>
            var gauge_7 = new JustGage({
                id: "gauge-7",
                value: 19,
                min: 0,
                max: 92,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_7.txtValue.attr({ "font-size": "25px" });*/
            gauge_7.txtMin.attr({ "font-size": "18px" });
            gauge_7.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 0%"></div>
          <div class="label">PMR: 0 / 5 (0%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 50%"></div>
          <div class="label">Élec: 1 / 2 (50%)</div>
        </div>
      </div>
    </div>

    </div>
    <div class="box">
        <h2>Hippodrom Diekirch</h2>
        <div id="gauge-container">
            <div id="gauge-8" class="200x160px"></div>
        </div>
        <input type="hidden" class="gauge-data" data-gauge="gauge-8" data-occupied="9" data-percent="9" data-max="100">
        <script>
            var gauge_8 = new JustGage({
                id: "gauge-8",
                value: 9,
                min: 0,
                max: 100,
                title: "Occupation",
            });
            setTimeout(function () {
            /*gauge_8.txtValue.attr({ "font-size": "25px" });*/
            gauge_8.txtMin.attr({ "font-size": "18px" });
            gauge_8.txtMax.attr({ "font-size": "18px" });
            
        }, 100);
        </script>
            <div class="linear-wrap">
      <!-- PMR -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill pmr" style="width: 0%"></div>
          <div class="label">PMR: 0 / 15 (0%)</div>
        </div>
      </div>

      <!-- Électriques -->
      <div class="lg-row">
        <div class="linear-gauge">
          <div class="fill elec" style="width: 0%"></div>
          <div class="label">Élec: 0 / 0 (0%)</div>
        </div>
      </div>
    </div>

    </div>
</div>

<script>
document.getElementById('globalToggle').addEventListener('change', function() {
    var isChecked = this.checked;

    document.querySelectorAll('.gauge-data').forEach(function(input) {
        var gaugeId = input.dataset.gauge;
        var gauge = window["gauge_" + gaugeId.split('-')[1]];
        var occupied = parseInt(input.dataset.occupied);
        var percent = parseInt(input.dataset.percent);
        var max = parseInt(input.dataset.max);

        if (isChecked) {
            gauge.config.max = 100;
            gauge.config.symbol = "%";
            gauge.refresh(percent);
            /*gauge.txtValue.attr({ "text": percent + "%" });*/
            /*gauge.txtLabel.attr({ "text": "% Occupation" });*/
            gauge.txtMax.attr({ "text": "100" });
        } else {
            gauge.config.max = max;
            gauge.config.symbol = ""; 
            gauge.refresh(occupied);
            /*gauge.txtLabel.attr({ "text": "Occupation" });*/
            gauge.txtMax.attr({ "text": max.toString() });
        }
    });
});
</script>

</body>
</html>
